(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,n,t){e.exports=t(42)},23:function(e,n,t){},24:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(16),u=t.n(o),c=(t(23),t(17)),l=t(6),i=t(2),s=(t(24),t(4)),m=t.n(s),d="/api/persons",f=function(){return m.a.get(d)},h=function(e){return m.a.post(d,e)},b=function(e){return m.a.delete("".concat(d,"/").concat(e))},p=function(e){return m.a.put("".concat(d,"/").concat(e.id),e)},E=function(e){var n=e.successMessage,t=void 0===n?null:n,a=e.failureMessage,o=void 0===a?null:a;return null!==o?r.a.createElement("div",{className:"notification",style:{color:"red"}},o):null!==t?r.a.createElement("div",{className:"notification",style:{color:"green"}},t):null},v=function(e){var n=e.persons,t=e.deletePerson;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(g,{person:e,key:e.id,deletePerson:t})})))},g=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("li",{className:"person"},n.name," ",n.number,r.a.createElement("button",{onClick:function(){return t(n)},style:{float:"right",marginRight:"3px",padding:"1px 10px",backgroundColor:"red"}},"\xd7"))},N=function(e){var n=e.handleInputChange,t=e.filterExpression;return r.a.createElement("input",{type:"text",value:t,onChange:n})},w=function(e){var n=e.addNewPersonHandler,t=e.newName,a=e.handleNameInputChange,o=e.newPhoneNumber,u=e.handlePhoneNumberInputChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Name:",r.a.createElement("input",{type:"text",value:t,onChange:a})),r.a.createElement("div",null,"Phone Number:",r.a.createElement("input",{type:"text",value:o,onChange:u})),r.a.createElement("button",{type:"submit",className:"btn"},"Add"))},j=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],d=s[1],g=Object(a.useState)(""),j=Object(i.a)(g,2),O=j[0],C=j[1],y=Object(a.useState)(""),P=Object(i.a)(y,2),k=P[0],x=P[1],S=Object(a.useState)(null),I=Object(i.a)(S,2),M=I[0],T=I[1],A=Object(a.useState)(null),H=Object(i.a)(A,2),J=H[0],L=H[1];Object(a.useEffect)((function(){f().then((function(e){o(e.data)}))}),[]);var B=t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Phonebook"),r.a.createElement("h2",null,"Find Contact"),r.a.createElement(N,{handleInputChange:function(e){x(e.target.value)},filterExpression:k}),r.a.createElement("h2",null,"New Contact"),r.a.createElement(w,{addNewPersonHandler:function(e){if(e.preventDefault(),t.some((function(e){return e.name===m}))){if(window.confirm("".concat(m," is already added to the phonebook, replace the old number with the new one?"))){var n=Object(l.a)(Object(l.a)({},t.find((function(e){return e.name===m}))),{},{number:O});p(n).then((function(e){o(t.map((function(e){return e.id!==n.id?e:n}))),T("".concat(e.data.name,"'s number has been changed")),setTimeout((function(){T(null)}),5e3),d(""),C("")})).catch((function(e){o(t.filter((function(e){return n.id!==e.id}))),L("".concat(n.name," has already been deleted from the server")),setTimeout((function(){L(null)}),5e3)}))}}else{var a={name:m,number:O};h(a).then((function(e){var n=e.data;o([].concat(Object(c.a)(t),[n])),T("".concat(a.name," has been added to the phonebook")),setTimeout((function(){T(null)}),5e3)})),d(""),C("")}},newName:m,handleNameInputChange:function(e){d(e.target.value)},newPhoneNumber:O,handlePhoneNumberInputChange:function(e){C(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(v,{persons:B,deletePerson:function(e){var n=e.id;window.confirm("Are you sure you want to delete ".concat(e.name))&&b(n).then((function(e){e.data;o(t.filter((function(e){return e.id!==n})))}))}}),r.a.createElement(E,{successMessage:M,failureMessage:J}))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.734f572e.chunk.js.map